################################################################################
#                                                                              #
#                               WINDOW RULES                                   #
#                                                                              #
################################################################################

# This file defines window- and layer-specific behavior rules.
#
# Use this file to control:
#   • Window placement and sizing
#   • Floating behavior
#   • Focus handling
#   • Monitor assignment
#   • Layer rules (launchers, overlays, etc.)
#
# Workspace assignment logic belongs in:
#   → assign-workspaces.conf
#
# See:
# https://wiki.hypr.land/Configuring/Window-Rules/
# https://wiki.hypr.land/Configuring/Workspace-Rules/


# ─────────────────────────────────────────────────────────────────────────────
# Global Behavior Fixes
# ─────────────────────────────────────────────────────────────────────────────

windowrule {
    # Ignore maximize requests from all applications
    name = suppress-maximize-events
    match:class = .*

    suppress_event = maximize
}

windowrule {
    # Fix dragging issues with certain XWayland clients
    name = fix-xwayland-drags
    match:class = ^$
    match:title = ^$
    match:xwayland = true
    match:float = true
    match:fullscreen = false
    match:pin = false

    no_focus = true
}


# ─────────────────────────────────────────────────────────────────────────────
# Hyprland Utilities
# ─────────────────────────────────────────────────────────────────────────────

windowrule {
    # Position hyprland-run consistently
    name = move-hyprland-run
    match:class = hyprland-run

    move = 20 monitor_h-120
    float = yes
}


# ─────────────────────────────────────────────────────────────────────────────
# Application-Specific Rules
# ─────────────────────────────────────────────────────────────────────────────

# Steam
windowrule {
    name = steam-size
    match:class = ^(steam)$
    match:title = ^(Steam)$

    float = on
    size = 1800 1200
    center = on
}

windowrule {
    name = steam-settings
    match:class = ^(steam)$
    match:title = ^(Steam Settings)$

    float = on
    size = 800 800
    center = on
}


# Discord
windowrule {
    name = discord-assign
    match:class = ^(discord)$

    monitor = HDMI-A-2
}


# Zen Browser
windowrule {
    name = zen-assign
    match:class = ^(zen)$

    monitor = DP-2
}


# ─────────────────────────────────────────────────────────────────────────────
# Layer Rules
# ─────────────────────────────────────────────────────────────────────────────

# Rofi launcher
layerrule {
    name = rofi
    match:namespace = rofi

    blur = on
    dim_around = on
}


# ─────────────────────────────────────────────────────────────────────────────
# Custom Utilities
# ─────────────────────────────────────────────────────────────────────────────
